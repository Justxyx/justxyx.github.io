---
title: LInux系统编程01_IO
author: xyx
date: 2022-2-09 20:33:00 +0800
categories: [C++, linux-os]
tags: 
math: true
---

## 1. open

```c
/**
 *      x   ---  1
 *      w  ---  2
 *      r  ----  4 
 */

 int main(){
     int fd = 0;
     // 只写
     fd = open("temp.txt",O_WRONLY);
    // 追加写
    fd = open("temp2.txt",O_WRONLY|O_APPEND);
    // 只读的方式打开 若不存在 就以权限777创建
    // 其实这里是有点小bug的， 0777  要与 umask 相与    详见p48
    fd = open("temp3.txt",O_RDONLY|O_CREAT,0777);
 }
```

**

### 错误信息

```c
/**
 *      x   ---  1
 *      w  ---  2
 *      r  ----  4 
 */

 int main(){
     int fd = 0;
     fd = open("temp.txt",O_RDONLY);
     // 把errno看为一个操作系统的全局变量即可啦
    printf("%d\n",errno);     
    printf("------------------------\n");
    printf("%s\n",strerror(errno));
    return 0;
 }
 ```