---
title: 从零开始构建计算机chapter6_汇编编译器
author: xyx
date: 2021-12-16 20:33:00 +0800
categories: [justxyx, computer-system-structure]
tags: 
math: true

---

## 1.符号问题

- 变量（拱自定义变量用）

变量分配在1024内存中

- 标签（拱程序控制跳转用）

起始位置为0

```c
// 变量从16位开始计数

@i		0000000000010000
@j		0000000000010001
@k		0000000000010010
@f		0000000000010011
@g		0000000000010100
```

```c
@2		0000000000000010
D=A		1110110000010000
(loop)
@loop           0000000000000010
```

- 预定义符号
![p2](/assets/ims/2021.12/p1.png)


**第一次建立符号表，第二次遍历填写符号变地址**

## 2. 给一个完整的汇编转机器代码程序

看不懂了回来再看看 ，就明白了

```c
@0		0000000000000000
D=M		C_COMMAND---------------
1111110000010000
@counter		0000000000010000
M=D		C_COMMAND---------------
1110001100001000
@SCREEN		0100000000000000
D=A		C_COMMAND---------------
1110110000010000
@address		0000000000010001
M=D		C_COMMAND---------------
1110001100001000
(LOOP)
MD=M-1		C_COMMAND---------------
1111110010011000
@LOOP		0000000000001000
D;JGT		C_COMMAND---------------
1110001100000001
```