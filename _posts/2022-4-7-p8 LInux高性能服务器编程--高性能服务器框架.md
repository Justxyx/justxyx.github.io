---
title: p8 Linux高性能服务器编程--高性能服务器框架
author: xyx
date: 2022-4-7 20:33:00 +0800
categories: [C++, linux-os]
tags: 
math: true
---


## 1. 服务器基本框架

![p1](../assets/ims/2022.04/p2.png)

- IO处理单元
    一个专门的接入服务器，他实现**负载均衡**，从所有的逻辑服务器中选取负荷最小的一台来为新客户服务。

- 逻辑单元
    一个逻辑单元通常是一个进程或者线程，它分析并处理客户数据。

- 网络存储单元
    数据库或者缓存（非必须）

## 2. IO模型

- 阻塞IO 与 非阻塞 IO
    留坑 没看懂

- 同步IO 与 异步IO
    留坑，没看懂
    **阻塞IO，IO复用，信号驱动IO都是同步IO模型**

## 3. 两种高效的事件处理模式

### 1. Reactor

### 2. Proactor


## 4. 有限状态机

1. 独立状态的有限状态机

```c
STATE_MACHINE(Package _pack){
    PackageType _type = _pack.GetType();
    sticth(_type){
        case type_A:
            process_package_A(_pack);
            break;
        case type_B:
            process_package_B(_pack);
            break;
    }
}
```

2. 带状态转移的有限状态机

```c
STATE_MACHINE(Package _pack){
    State cur_State = type_A;
    while(cur_State != type_C){
        PackageType _pack = getNewPackage();

    sticth(cur_State){
        case type_A:
            process_package_A(_pack);
            cur_State = type_B;
            break;
        case type_B:
            process_package_B(_pack);
            cur_State = type_C;
            break;
        }
    }
}
```